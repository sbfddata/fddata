<!DOCTYPE html>
<html>
<head>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f4f4f4; text-align: center; }
    .container { width: 400px; margin: 50px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0px 0px 10px #ccc; }
    input, select { width: 90%; padding: 10px; margin: 10px 0; border: 1px solid #ddd; }
    button { padding: 10px 20px; cursor: pointer; border: none; border-radius: 5px; color: white; }
    .btn-login { background-color: #2ecc71; }
    .btn-add { background-color: #3498db; }
    .hidden { display: none; }
    header { background: #2c3e50; color: white; padding: 10px; }
  </style>
</head>
<body>

<header>
  <h3>සමෘද්ධි ප්‍රජාමුල බැංකු සමිතිය - පදියතලාව</h3>
</header>

<div id="loginPage" class="container">
  <h2>Login</h2>
  <input type="text" id="user" placeholder="පරිශීලක නාමය">
  <input type="password" id="pass" placeholder="මුරපදය">
  <button class="btn-login" onclick="login()">පිවිසෙන්න</button>
</div>

<div id="dashboard" class="container hidden">
  <h2>Dashboard</h2>
  <button class="btn-add" onclick="showFDPage()">FD Data</button>
  <button style="background: #e67e22;" onclick="alert('Print List Loading...')">Print List</button>
</div>

<div id="fdPage" class="container hidden" style="width: 600px;">
  <h2>FD දත්ත ඇතුළත් කිරීම</h2>
  <select id="bankBelongs">
    <option>පදියතලාව</option>
    <option>පල්ලේගම</option>
    <option>මහ සංගම් අරමුදල්</option>
    <option>ණය සංරක්ෂණ අරමුදල්</option>
    <option>සමුහ සංරක්ෂණ අරමුදල්</option>
  </select>
  <select id="investedBank">
    <option>ලංකා බැංකුව</option>
    <option>මහජන බැංකුව</option>
    <option>ප්‍රාදේශීය සංවර්ධන බැංකුව</option>
    <option>නිවාස සංවර්ධන මූල්‍ය සංස්ථාව</option>
    <option>රාජ්‍ය උකස් හා අයෝජන බැංකුව</option>
    <option>ජාතික ඉතිරිකිරිමේ බැංකුව</option>
  </select>
  <input type="date" id="date" placeholder="ආයෝජනය කළ දිනය">
  <input type="text" id="receiptNo" placeholder="රිසිට්පත් අංකය">
  <input type="number" id="amount" placeholder="මුදල (රු)">
  <input type="text" id="period" placeholder="කාලය (මාස)">
  <input type="date" id="expiryDate" placeholder="කල්පිරෙන දිනය">
  <input type="text" id="interestRate" placeholder="පොලි ප්‍රතිශතය %">
  <input type="text" id="interestEarned" placeholder="ලද පොලිය">
  <input type="text" id="checkNo" placeholder="චෙක්පත් අංකය">
  
  <button class="btn-add" onclick="submitData()">Add Data</button>
  <button style="background:#e74c3c;" onclick="location.reload()">Back</button>
</div>

<script>
  function login() {
    var u = document.getElementById("user").value;
    var p = document.getElementById("pass").value;
    google.script.run.withSuccessHandler(function(res) {
      if(res) {
        document.getElementById("loginPage").classList.add("hidden");
        document.getElementById("dashboard").classList.remove("hidden");
      } else { alert("මුරපදය වැරදියි!"); }
    }).checkLogin(u, p);
  }

  function showFDPage() {
    document.getElementById("dashboard").classList.add("hidden");
    document.getElementById("fdPage").classList.remove("hidden");
  }

  function submitData() {
    var data = {
      bankBelongs: document.getElementById("bankBelongs").value,
      investedBank: document.getElementById("investedBank").value,
      date: document.getElementById("date").value,
      receiptNo: document.getElementById("receiptNo").value,
      amount: document.getElementById("amount").value,
      period: document.getElementById("period").value,
      expiryDate: document.getElementById("expiryDate").value,
      interestRate: document.getElementById("interestRate").value,
      interestEarned: document.getElementById("interestEarned").value,
      checkNo: document.getElementById("checkNo").value
    };
    
    google.script.run.withSuccessHandler(function(res) {
      alert(res);
      document.getElementById("fdPage").reset();
    }).addInvestmentData(data);
  }
</script>
</body>
</html>
